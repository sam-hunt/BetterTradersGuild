<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!--
    Better Traders Guild - Settlement Map Generator

    Custom MapGeneratorDef for TradersGuild orbital settlements.
    Replaces vanilla SettlementPlatform MapGeneratorDef via Harmony patch
    on MapParent.MapGeneratorDef for TradersGuild faction settlements.

    Inherits from SpaceMapGenerator to get all space map properties:
    - ignoreAreaRevealedLetter: true
    - disableCallAid: true
    - renderWorld: true
    - disableMapClippers: true
    - defaultUnderGridTerrain: Space
    - pocketMapProperties with temperature: -75 (exterior space temp)

    GENSTEP ORDER:
    - BTG_SettlementPlatform (200): Core structure generation with BTG layout
    - BTG_SettlementAutocannons (210): 2x2 autocannons flanking perimeter exits
    - BTG_ReplaceTerrain (250): Replace AncientTile with MetalTile
    - BTG_PaintTerrain (255): Paint MetalTile with BTG_OrbitalSteel
    - BTG_LandingPadPipes (260): Extend VE pipes to landing pads (MayRequire VE)
    - BTG_SetWallLampColor (265): Set WallLamp glow to blue
    - BTG_SettlementPawnsLoot (700): Pawn spawning (loot disabled)
    - BTG_SentryDrones (705): Sentry drone spawning (uses ModSettings)
  -->

  <MapGeneratorDef ParentName="SpaceMapGenerator">
    <defName>BTG_SettlementMapGenerator</defName>
    <genSteps>
      <!-- Core orbital platform generation using BTG_Settlement layout -->
      <li>BTG_SettlementPlatform</li>
      <!-- 2x2 autocannons flanking perimeter exit doors -->
      <li>BTG_SettlementAutocannons</li>
      <!-- Terrain replacement: AncientTile -> MetalTile -->
      <li>BTG_ReplaceTerrain</li>
      <!-- Terrain painting: MetalTile -> BTG_OrbitalSteel color -->
      <li>BTG_PaintTerrain</li>
      <!-- VE pipe extension to landing pads (no-op if no VE pipe mods installed) -->
      <li>BTG_LandingPadPipes</li>
      <!-- WallLamp glow color adjustment -->
      <li>BTG_SetWallLampColor</li>
      <!-- Pawn spawning (loot disabled via lootMarketValue=0~0) -->
      <li>BTG_SettlementPawnsLoot</li>
      <!-- Sentry drone spawning (configurable via ModSettings) -->
      <li>BTG_SentryDrones</li>
    </genSteps>
  </MapGeneratorDef>
</Defs>