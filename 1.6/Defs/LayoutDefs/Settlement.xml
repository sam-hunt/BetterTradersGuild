<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!--
    TradersGuild Orbital Settlement Layout

    This LayoutDef defines the structure for TradersGuild space settlements.
    Key design principles:
    - Modern, functional aesthetics (not ancient/deserted)
    - Static base infrastructure (rooms/walls permanent)
    - ONE dynamic cargo bay (ShuttleBay) for trader-specific loot
    - Reflects prosperous merchant civilization identity

    Inherits from OrbitalAncientPlatformBase for standard orbital platform behavior.
    "Ancient" refers to infrastructure age, not inhabitability - same as vanilla settlements.
  -->

  <StructureLayoutDef ParentName="OrbitalAncientPlatformBase">
    <defName>BTG_Settlement</defName>

    <!--
      Settlement-specific settings:
      - clearDoorFaction=false: Keeps doors owned by faction (prevents instant entry)
      - ensureOneDoorUnlocked=true: Allows player entry (at least one unlocked door)
      - corridorDef: Custom corridor with MetalTile flooring (not AncientTile)
      - wallLampDef: Powered WallLamp instead of AncientEmergencyLight_Blue (color set via postfix)
    -->
    <clearDoorFaction>false</clearDoorFaction>
    <ensureOneDoorUnlocked>false</ensureOneDoorUnlocked>
    <corridorDef>BTG_Corridor</corridorDef>
    <wallLampDef>WallLamp</wallLampDef>
    <wallLampChancePerPosition>1</wallLampChancePerPosition>

    <!--
      Wall attachments: Life support units provide power generation throughout the settlement
    -->
    <wallAttachments>
      <LifeSupportUnit>
        <countRange>1~1</countRange>
      </LifeSupportUnit>
    </wallAttachments>

    <!--
      Loot Control: Disable random littered loot across the structure
      - junkScaterrers: Prevents random debris/items from spawning in corridors/open areas
      - Loot is intentionally placed via room-specific prefabs (storage rooms, cargo bay)
      - This ensures thematic, curated loot placement rather than random scattering
    -->
    <junkScaterrers />

    <roomDefs>
      <!-- Core operational facilities -->

      <!-- Dynamic cargo bay with trader-specific items -->
      <BTG_ShuttleBay>
        <countRange>1~2</countRange>
      </BTG_ShuttleBay>

      <BTG_MedicalBay>
        <countRange>1~1</countRange>
      </BTG_MedicalBay>

      <BTG_ControlCenter>
        <countRange>1~1</countRange>
      </BTG_ControlCenter>

      <BTG_Greenhouse>
        <countRange>2~4</countRange>
      </BTG_Greenhouse>

      <BTG_MessHall>
        <countRange>1~1</countRange>
      </BTG_MessHall>

      <BTG_PodLaunchBay>
        <countRange>1~1</countRange>
      </BTG_PodLaunchBay>

      <!-- Living quarters and recreation -->

      <BTG_CrewQuarters>
        <countRange>2~4</countRange>
      </BTG_CrewQuarters>

      <BTG_RecRoom>
        <countRange>1~1</countRange>
      </BTG_RecRoom>

      <BTG_Nursery MayRequire="Ludeon.RimWorld.Biotech">
        <countRange>1~1</countRange>
      </BTG_Nursery>

      <BTG_Classroom MayRequire="Ludeon.RimWorld.Biotech">
        <countRange>1~1</countRange>
      </BTG_Classroom>

      <BTG_MechRepairPost MayRequire="Ludeon.RimWorld.Biotech">
        <countRange>0~2</countRange>
      </BTG_MechRepairPost>

      <!-- Mech security room with volatile gestator tanks -->
      <BTG_MechSecurityPost>
        <countRange>0~1</countRange>
      </BTG_MechSecurityPost>

      <!-- Security and operations -->
      <BTG_Armory>
        <countRange>0~1</countRange>
      </BTG_Armory>

      <BTG_Workshop>
        <countRange>0~1</countRange>
      </BTG_Workshop>

      <!-- Trade and display -->
      <BTG_TradeShowcase>
        <countRange>0~2</countRange>
      </BTG_TradeShowcase>

      <!-- Commander's quarters -->
      <BTG_CommandersQuarters>
        <countRange>1~1</countRange>
      </BTG_CommandersQuarters>

      <!-- Filler rooms for layout variety -->
      <BTG_Storeroom>3</BTG_Storeroom>
      <NarrowHalls>2</NarrowHalls>
      <BTG_CargoStorage>1</BTG_CargoStorage>

    </roomDefs>
  </StructureLayoutDef>
</Defs>