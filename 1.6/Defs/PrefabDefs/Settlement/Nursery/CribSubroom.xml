<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!--
    Better Traders Guild - Crib Subroom (Biotech DLC)
    A self-contained nursery subroom designed for flexible corner/edge placement.

    Features:
    - 6x6 prefab size
    - L-shaped wall configuration (front + right side included)
    - Interior contains 5 cribs for infant care
    - Includes dresser, shelf, armchair, toy boxes, and baby decoration

    Design (top view, North is up):
        x: 0 1 2 3 4 5
    z=5:   C E C E C W
    z=4:   T . . . T W
    z=3:   C . . . C W
    z=2:   B . . . A W
    z=1:   D D . S S W
    z=0:   W W d W W W

    Legend:
    W = OrbitalAncientFortifiedWall (L-shaped frame)
    d = AncientBlastDoor (entrance, must be hacked to enter)
    C = Crib (WoodLog, Excellent, facing South)
    E = EndTable (WoodLog, Excellent)
    T = ToyBox (WoodLog)
    D = Dresser (WoodLog, Excellent)
    S = Shelf (WoodLog)
    A = Armchair (Leather_Plain, Excellent, facing West)
    B = BabyDecoration (WoodLog)
    . = Floor (empty)

    Placement Strategy:
    - Corner placement (preferred): Missing back/left walls align with room walls
    - Edge placement (fallback): Missing back aligns with room wall, left wall spawned post-placement
    - Center placement (fallback): Back/left walls spawned post-placement
  -->
  <PrefabDef>
    <defName>BTG_CribSubroom</defName>
    <size>(6,6)</size>

    <things>
      <Crib>
        <relativeRotation>Opposite</relativeRotation>
        <stuff>WoodLog</stuff>
        <quality>Excellent</quality>
        <rects>
          <li>(0,3,0,3)</li>
          <li>(4,3,4,3)</li>
          <li>(0,5,0,5)</li>
          <li>(2,5,2,5)</li>
          <li>(4,5,4,5)</li>
        </rects>
      </Crib>

      <EndTable>
        <relativeRotation>Opposite</relativeRotation>
        <stuff>WoodLog</stuff>
        <quality>Excellent</quality>
        <rects>
          <li>(1,5,1,5)</li>
          <li>(3,5,3,5)</li>
        </rects>
      </EndTable>

      <AncientBlastDoor>
        <position>(2, 0, 0)</position>
      </AncientBlastDoor>

      <OrbitalAncientFortifiedWall>
        <rects>
          <li>(0,0,1,0)</li>
          <li>(3,0,5,0)</li>
          <li>(5,1,5,5)</li>
        </rects>
      </OrbitalAncientFortifiedWall>

      <Shelf>
        <stuff>WoodLog</stuff>
        <position>(3, 0, 1)</position>
      </Shelf>

      <ToyBox>
        <stuff>WoodLog</stuff>
        <rects>
          <li>(0,4,0,4)</li>
          <li>(4,4,4,4)</li>
        </rects>
      </ToyBox>

      <Armchair>
        <relativeRotation>Counterclockwise</relativeRotation>
        <stuff>Leather_Plain</stuff>
        <quality>Excellent</quality>
        <position>(4, 0, 2)</position>
      </Armchair>

      <Dresser>
        <stuff>WoodLog</stuff>
        <quality>Excellent</quality>
        <position>(0, 0, 1)</position>
      </Dresser>

      <BabyDecoration>
        <stuff>WoodLog</stuff>
        <position>(0, 0, 2)</position>
      </BabyDecoration>

      <AncientEmergencyLight_Blue>
        <position>(4, 0, 2)</position>
        <relativeRotation>Clockwise</relativeRotation>
      </AncientEmergencyLight_Blue>

      <LifeSupportUnit>
        <position>(4, 0, 3)</position>
        <relativeRotation>Counterclockwise</relativeRotation>
      </LifeSupportUnit>
    </things>

    <terrain>
      <WoodPlankFloor>
        <rects>
          <li>(0,0,5,5)</li>
        </rects>
      </WoodPlankFloor>
    </terrain>

  </PrefabDef>
</Defs>