<?xml version="1.0" encoding="utf-8" ?>
<Patch>
  <!-- Add TradeRequestComp to SpaceSettlement so trade request quests work with orbital settlements -->
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <!-- First, add comps element if it doesn't exist -->
      <li Class="PatchOperationConditional">
        <xpath>/Defs/WorldObjectDef[defName="SpaceSettlement"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
          <xpath>/Defs/WorldObjectDef[defName="SpaceSettlement"]</xpath>
          <value>
            <comps />
          </value>
        </nomatch>
      </li>
      <!-- Then add our component to comps -->
      <li Class="PatchOperationAdd">
        <xpath>/Defs/WorldObjectDef[defName="SpaceSettlement"]/comps</xpath>
        <value>
          <li Class="WorldObjectCompProperties_TradeRequest" />
        </value>
      </li>
    </operations>
  </Operation>
</Patch>
