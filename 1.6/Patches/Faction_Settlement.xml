<?xml version="1.0" encoding="utf-8"?>
<!--
  Better Traders Guild - TradersGuild Settlement PawnGroupMaker

  Overrides selection weights for TradersGuild settlements.

  This is largely for semantic correctness though: weights determine selection probability;
  however combatPower determines point cost per pawn, and PawnGroupMakerUtilityMinimumPoints.cs
  sets a lower bound for points on our defence force. This results in a skew towards higher
  combatPower pawnkinds which we balance by spawning civilians separately

-->
<Patch>

  <!-- Replace Settlement pawnGroupMaker with balanced military/civilian mix -->
  <Operation Class="PatchOperationReplace">
    <xpath>/Defs/FactionDef[defName="TradersGuild"]/pawnGroupMakers/li[kindDef="Settlement"]</xpath>
    <value>
      <li>
        <kindDef>Settlement</kindDef>
        <options>
          <!-- Civilians -->
          <TradersGuild_Child MayRequire="Ludeon.RimWorld.Biotech">4</TradersGuild_Child>
          <TradersGuild_Citizen>4</TradersGuild_Citizen>
          <!-- Military -->
          <TradersGuild_Gunner>10</TradersGuild_Gunner>
          <TradersGuild_Elite>8</TradersGuild_Elite>
          <TradersGuild_Slasher>4</TradersGuild_Slasher>
          <TradersGuild_Heavy>4</TradersGuild_Heavy>
          <TradersGuild_Magister>3</TradersGuild_Magister>
        </options>
      </li>
    </value>
  </Operation>

</Patch>
