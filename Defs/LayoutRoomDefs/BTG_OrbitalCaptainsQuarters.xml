<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!--
    Better Traders Guild - Captain's Quarters

    Luxury living quarters for the station leader.

    Features:
    - Fine carpet flooring for luxury aesthetic
    - Medium floor area to accommodate inner secure bedroom prefab and outer lounge area
    - Excellent quality furniture throughout (wolf leather upholstery, vacstone accents)
    - Personal library with bookshelves
    - Entertainment (flatscreen TV with wolf leather couch, good-quality vacstone pool table)
    - Good-quality vacstone sculptures (small and large) and potted plants
    - Minimal threat level (VIP quarters)

    TODO: Add C# MapComponent to spawn a tame, bonded cat near the animal bed
          after map generation. Cannot be done via XML prefabs/parts as vanilla
          doesn't support setting faction/tame status for spawned animals.
  -->

  <LayoutRoomDef>
    <defName>BTG_OrbitalCaptainsQuarters</defName>
    <roomContentsWorkerType>BetterTradersGuild.RoomContents.RoomContents_CaptainsQuarters</roomContentsWorkerType>
    <minSingleRectWidth>12</minSingleRectWidth>
    <minSingleRectHeight>10</minSingleRectHeight>
    <requiresSingleRectRoom>true</requiresSingleRectRoom>
    <canMergeWithAdjacentRoom>false</canMergeWithAdjacentRoom>
    <minAdjRooms>0</minAdjRooms>

    <!-- Fine luxury carpet flooring -->
    <!-- TODO: Swap to fine carpet if royalty DLC active? -->
    <floorTypes>
      <li>CarpetRed</li>
    </floorTypes>
    <edgeTerrain>SilverTile</edgeTerrain>

    <prefabs>
      <!--
        BEDROOM: Spawned programmatically by RoomContents_CaptainsQuarters worker
        The worker places the bedroom in a corner (preferred) or along an edge (fallback),
        ensuring no conflicts with doors and proper wall alignment.

        LOUNGE FURNITURE: Placed in outer area around the bedroom
        These spawn in the remaining space (controlled via IsValidCellBase), creating a living/lounge area.
      -->

      <!-- Personal library with books (high priority - player reward) -->
      <BTG_CaptainsBookshelf_Edge>
        <countPerTenEdgeCells>2</countPerTenEdgeCells>
        <minMaxRange>1~3</minMaxRange>
      </BTG_CaptainsBookshelf_Edge>

      <!-- Entertainment: TV with wolf leather couch -->
      <BTG_FlatscreenTelevisionWolfLeather_Edge>
        <countPerTenEdgeCells>1</countPerTenEdgeCells>
        <minMaxRange>0~1</minMaxRange>
      </BTG_FlatscreenTelevisionWolfLeather_Edge>

      <!-- Comfortable seating with decorative potplants -->
      <BTG_ArmchairsWithPlantpot_Edge>
        <countPerTenEdgeCells>2</countPerTenEdgeCells>
        <minMaxRange>1~2</minMaxRange>
      </BTG_ArmchairsWithPlantpot_Edge>

      <!-- High-quality vacstone billiards table (with clearance for interaction) -->
      <BTG_BilliardsTable>
        <countPerTenEdgeCells>1</countPerTenEdgeCells>
        <minMaxRange>1~1</minMaxRange>
      </BTG_BilliardsTable>
    </prefabs>

    <!-- High-quality vacstone furniture and art scattered throughout the lounge -->
    <scatter>
      <SculptureSmall>
        <stuff>BlocksVacstone</stuff>
        <groupsPerHundredCells>1~1</groupsPerHundredCells>
        <itemsPerGroup>1~1</itemsPerGroup>
        <groupDistRange>4~8</groupDistRange>
        <minGroups>1</minGroups>
      </SculptureSmall>
      <SculptureGrand>
        <stuff>BlocksVacstone</stuff>
        <groupsPerHundredCells>1~1</groupsPerHundredCells>
        <itemsPerGroup>1~1</itemsPerGroup>
        <groupDistRange>5~10</groupDistRange>
        <minGroups>1</minGroups>
      </SculptureGrand>
    </scatter>

    <!-- Minimal threat (VIP living quarters) -->
    <parts>
      <WaspDrone>0.2</WaspDrone>
    </parts>
  </LayoutRoomDef>
</Defs>